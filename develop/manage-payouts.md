---
title: Ödeme hizmeti API 'sini kullanarak ödemeleri yönetme
description: Iş Ortağı Merkezi ödeme hizmeti API 'sini, ödeme verilerine erişmek için nasıl kullanacağınızı öğrenin
ms.date: 06/23/2021
ms.service: partner-dashboard
ms.subservice: partnercenter-sdk
author: jasongroce
ms.author: sabaja
ms.openlocfilehash: 014a1e6a14b538b7557d58710b9132dd9e37de21
ms.sourcegitcommit: 7e2d2805c4cdd61785b1cdcca99cad10d5683153
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/10/2021
ms.locfileid: "113592484"
---
# <a name="manage-payouts-using-the-payout-service-api"></a><span data-ttu-id="323b8-103">Ödeme hizmeti API 'sini kullanarak ödemeleri yönetme</span><span class="sxs-lookup"><span data-stu-id="323b8-103">Manage payouts using the Payout Service API</span></span>

<span data-ttu-id="323b8-104">Bu makalede, Iş Ortağı Merkezi kullanıcı arabirimi yerine, ödeme verilerine ödeme hizmeti API 'Leri aracılığıyla nasıl erişebileceğiniz açıklanır.</span><span class="sxs-lookup"><span data-stu-id="323b8-104">This article explains how you can access payout data through the Payout Service APIs instead of the Partner Center UI.</span></span> <span data-ttu-id="323b8-105">Bu API 'Ler, Iş Ortağı Merkezi 'nde [veri dışarı aktarma](https://partner.microsoft.com/dashboard/payouts/reports/incentiveexport) özelliğinin yeteneğini sağlamak için programlı bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="323b8-105">These APIs provide a programmatic way to provide the capability of the [Export data](https://partner.microsoft.com/dashboard/payouts/reports/incentiveexport) feature in Partner Center.</span></span>

## <a name="available-apis"></a><span data-ttu-id="323b8-106">Kullanılabilir API’ler</span><span class="sxs-lookup"><span data-stu-id="323b8-106">Available APIs</span></span>

<span data-ttu-id="323b8-107">[Ortak ödemeler](/rest/api/partner-center/partner-payouts)sırasında kullanılabilir tüm API 'leri görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="323b8-107">See all available APIs at [Partner Payouts](/rest/api/partner-center/partner-payouts).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="323b8-108">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="323b8-108">Prerequisites</span></span>

- <span data-ttu-id="323b8-109">Azure portal [AAD/Microsoft kimliği ile bir uygulamayı kaydedin](/graph/auth-register-app-v2) ve uygulamaya uygun sahipleri ve rolleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="323b8-109">[Register an application with AAD/Microsoft Identity](/graph/auth-register-app-v2) in the Azure portal, and add appropriate owners and roles to the application.</span></span>
- <span data-ttu-id="323b8-110">[Visual Studio](https://visualstudio.microsoft.com/downloads/)'i yükler.</span><span class="sxs-lookup"><span data-stu-id="323b8-110">Install [Visual Studio](https://visualstudio.microsoft.com/downloads/).</span></span>

## <a name="register-an-application-with-the-microsoft-identity-platform"></a><span data-ttu-id="323b8-111">Microsoft kimlik platformuna uygulama kaydetme</span><span class="sxs-lookup"><span data-stu-id="323b8-111">Register an application with the Microsoft identity platform</span></span>

<span data-ttu-id="323b8-112">[Microsoft kimlik platformu](/azure/active-directory/develop/v2-overview) , kullanıcılarınızın ve müşterilerinizin Microsoft kimliklerini veya sosyal hesaplarını kullanarak oturum açmasını ve kendi apı 'lerinize veya Microsoft Graph gibi microsoft apı 'lerine yetkili erişim sağlamasına yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="323b8-112">The [Microsoft identity platform](/azure/active-directory/develop/v2-overview) helps you build applications your users and customers can sign in to using their Microsoft identities or social accounts, and provide authorized access to your own APIs or Microsoft APIs like Microsoft Graph.</span></span>

1. <span data-ttu-id="323b8-113">Bir iş veya okul hesabını ya da kişisel bir Microsoft hesabını kullanarak [Azure portalında](https://portal.azure.com/) oturum açın.</span><span class="sxs-lookup"><span data-stu-id="323b8-113">Sign in to the [Azure portal](https://portal.azure.com/) using either a work or school account or a personal Microsoft account.</span></span>

   <span data-ttu-id="323b8-114">Hesabınız birden fazla kiracıya erişim veriyorsa, sağ üst köşedeki hesabınızı seçin ve Portal oturumunuzu doğru Azure AD kiracısına ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="323b8-114">If your account gives you access to more than one tenant, select your account in the upper right corner and set your portal session to the correct Azure AD tenant.</span></span>

2. <span data-ttu-id="323b8-115">sol gezinti bölmesinde Azure Active Directory hizmeti, sonra **Uygulama kayıtları** ve ardından **yeni kayıt**' ı seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-115">In the left navigation pane, select the Azure Active Directory service, then **App registrations**, then **New registration**.</span></span> <span data-ttu-id="323b8-116">**Uygulama kaydetme** sayfası görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="323b8-116">The **Register an application** page appears.</span></span>

   :::image type="content" source="./images/manage-payouts/new-app-registration.png" alt-text="Azure portal uygulama kaydetme ekranını gösteren ekran görüntüsü.":::

3. <span data-ttu-id="323b8-118">Uygulamanızın kayıt bilgilerini girin:</span><span class="sxs-lookup"><span data-stu-id="323b8-118">Enter your application's registration information:</span></span>

   - <span data-ttu-id="323b8-119">Ad: uygulamanın kullanıcılarına gösterilecek anlamlı bir uygulama adı girin.</span><span class="sxs-lookup"><span data-stu-id="323b8-119">Name: Enter a meaningful application name that will be displayed to users of the app.</span></span>
   - <span data-ttu-id="323b8-120">Desteklenen hesap türleri: uygulamanızın destekleyeceği hesapları seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-120">Supported account types: Select which accounts your application will support.</span></span>

    | <span data-ttu-id="323b8-121">**Desteklenen hesap türleri**</span><span class="sxs-lookup"><span data-stu-id="323b8-121">**Supported account types**</span></span>                             | <span data-ttu-id="323b8-122">**Açıklama**</span><span class="sxs-lookup"><span data-stu-id="323b8-122">**Description**</span></span>                                                                                            |
    |---------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="323b8-123">Yalnızca bu kuruluş dizinindeki hesaplar</span><span class="sxs-lookup"><span data-stu-id="323b8-123">Only accounts in this organizational directory</span></span>          | <span data-ttu-id="323b8-124">Bir iş kolu uygulaması (LOB) oluşturuyorsanız bu seçeneği belirtin.</span><span class="sxs-lookup"><span data-stu-id="323b8-124">Select this option if you're building a line-of-business (LOB) application.</span></span> <span data-ttu-id="323b8-125">Uygulamayı bir dizine kaydetmiyorsanız bu seçenek kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="323b8-125">This option is not available if you're not registering the application in a directory.</span></span> <span data-ttu-id="323b8-126">Bu seçenek, yalnızca Azure AD tek kiracılı hesaba eşlenir.</span><span class="sxs-lookup"><span data-stu-id="323b8-126">This option maps to Azure AD only single-tenant.</span></span>  <span data-ttu-id="323b8-127">Uygulamayı bir dizinin dışına kaydetmiyorsanız Bu seçenek varsayılandır.</span><span class="sxs-lookup"><span data-stu-id="323b8-127">This option is the default unless you're registering the app outside of a directory.</span></span> <span data-ttu-id="323b8-128">Uygulamanın bir dizin dışında kaydedildiği durumlarda, varsayılan seçenek Azure çok kiracılı ve kişisel Microsoft kişisel hesaplarıdır.</span><span class="sxs-lookup"><span data-stu-id="323b8-128">In cases where the app is registered outside of a directory, the default is Azure AD multi-tenant and personal Microsoft accounts.</span></span>             |
    | <span data-ttu-id="323b8-129">Herhangi bir kuruluş dizinindeki hesaplar</span><span class="sxs-lookup"><span data-stu-id="323b8-129">Accounts in any organizational directory</span></span>                | <span data-ttu-id="323b8-130">Tüm iş ve eğitim müşterilerini hedeflemek istiyorsanız bu seçeneği belirleyin.</span><span class="sxs-lookup"><span data-stu-id="323b8-130">Select this option if you would like to target all business and educational customers.</span></span>  <span data-ttu-id="323b8-131">Bu seçenek, bir yalnızca Azure AD çok kiracılı hesaba eşlenir.</span><span class="sxs-lookup"><span data-stu-id="323b8-131">This option maps to an Azure AD only multi-tenant.</span></span> <span data-ttu-id="323b8-132">Uygulamayı yalnızca Azure AD tek kiracılı olarak kaydettiyseniz, Kimlik doğrulaması dikey penceresinden Azure AD çok kiracılı olacak şekilde ve tekrar tek kiracılı olarak güncelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="323b8-132">If you registered the app as Azure AD only single-tenant, you can update it to be Azure AD multi-tenant and back to single-tenant through the Authentication blade.</span></span>                                                                                                                                                  |
    | <span data-ttu-id="323b8-133">Herhangi bir kuruluş dizinindeki hesaplar ve kişisel Microsoft hesapları</span><span class="sxs-lookup"><span data-stu-id="323b8-133">Accounts in any organizational directory and personal Microsoft accounts</span></span> | <span data-ttu-id="323b8-134">En geniş müşteri kümesini hedeflemek için bu seçeneği belirleyin.</span><span class="sxs-lookup"><span data-stu-id="323b8-134">Select this option to target the widest set of customers.</span></span> <span data-ttu-id="323b8-135">Bu seçenek Azure AD çok kiracılı ve kişisel Microsoft hesaplarına eşlenir.</span><span class="sxs-lookup"><span data-stu-id="323b8-135">This option maps to Azure AD multi-tenant and personal Microsoft accounts.</span></span>  <span data-ttu-id="323b8-136">Uygulamayı Azure AD çok kiracılı ve kişisel Microsoft hesapları olarak kaydettiniz, bu seçimi Kullanıcı arabiriminde değiştiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="323b8-136">If you registered the app as Azure AD multi-tenant and personal Microsoft accounts, you cannot change this selection in the UI.</span></span> <span data-ttu-id="323b8-137">Bunun yerine, desteklenen hesap türlerini değiştirmek için uygulama bildirimi düzenleyicisini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="323b8-137">Instead, you must use the application manifest editor to change the supported account types.</span></span>                                                                          |

   - <span data-ttu-id="323b8-138">*(isteğe bağlı)* Yeniden yönlendirme URI 'SI: oluşturmakta olduğunuz uygulamanın türünü, Web veya ortak istemciyi (mobil & Masaüstü) seçin ve ardından uygulamanızın yeniden yönlendirme URI 'sini (veya yanıt URL 'SI) girin.</span><span class="sxs-lookup"><span data-stu-id="323b8-138">*(optional)* Redirect URI: Select the type of app you're building, Web or Public client (mobile & desktop), and then enter the redirect URI (or reply URL) for your application.</span></span> <span data-ttu-id="323b8-139">(Yeniden yönlendirme URL 'SI, kimlik doğrulama yanıtının Kullanıcı kimliğini doğruladıktan sonra gönderileceği yerdir.)</span><span class="sxs-lookup"><span data-stu-id="323b8-139">(The redirect URL is where the authentication response will be sent after the user authenticates.)</span></span> 

      <span data-ttu-id="323b8-140">Web uygulamaları için, uygulamanızın temel URL'sini girin.</span><span class="sxs-lookup"><span data-stu-id="323b8-140">For web applications, provide the base URL of your app.</span></span> <span data-ttu-id="323b8-141">Örneğin `http://localhost:31544` yerel makinenizde çalışan bir web uygulamasının URL'si olabilir.</span><span class="sxs-lookup"><span data-stu-id="323b8-141">For example, `http://localhost:31544` might be the URL for a web app running on your local machine.</span></span> <span data-ttu-id="323b8-142">Kullanıcılar, bir web istemci uygulamasında oturum açmak için bu URL'yi kullanır.</span><span class="sxs-lookup"><span data-stu-id="323b8-142">Users would use this URL to sign in to a web client application.</span></span>
      <span data-ttu-id="323b8-143">Genel istemci uygulamaları için, Azure AD'nin belirteç yanıtlarını döndürmek üzere kullandığı URI'yi girin.</span><span class="sxs-lookup"><span data-stu-id="323b8-143">For public client applications, provide the URI used by Azure AD to return token responses.</span></span> <span data-ttu-id="323b8-144">Uygulamanıza özgü bir değer girin, örn. `myapp://auth`.</span><span class="sxs-lookup"><span data-stu-id="323b8-144">Enter a value specific to your application, such as `myapp://auth`.</span></span>

4. <span data-ttu-id="323b8-145">**Kaydet**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-145">Select **Register**.</span></span> <span data-ttu-id="323b8-146">Azure AD uygulamanıza benzersiz bir uygulama (istemci) KIMLIĞI atar ve uygulamanın genel bakış sayfası yüklenir.</span><span class="sxs-lookup"><span data-stu-id="323b8-146">Azure AD assigns a unique application (client) ID to your application, and the application's overview page loads.</span></span>

   :::image type="content" source="./images/manage-payouts/register-an-application.png" alt-text="<alt metin>":::

5. <span data-ttu-id="323b8-148">Uygulamanıza özellik eklemek istiyorsanız, marka, sertifikalar ve gizlilikler, API izinleri ve daha fazlasını içeren diğer yapılandırma seçeneklerini belirleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="323b8-148">If you want to add capabilities to your application, you can select other configuration options including branding, certificates and secrets, API permissions, and more.</span></span>

## <a name="platform-specific-properties"></a><span data-ttu-id="323b8-149">Platforma özgü özellikler</span><span class="sxs-lookup"><span data-stu-id="323b8-149">Platform-specific properties</span></span>

<span data-ttu-id="323b8-150">Aşağıdaki tabloda, farklı türlerde uygulamalar için yapılandırmanız ve kopyalamanız gereken özellikler gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="323b8-150">The following table shows the properties that you need to configure and copy for different kinds of apps.</span></span> <span data-ttu-id="323b8-151">**Atanmış** , Azure AD tarafından atanan değeri kullanmanız gerektiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="323b8-151">**Assigned** means that you should use the value assigned by Azure AD.</span></span>

| <span data-ttu-id="323b8-152">Uygulama türü</span><span class="sxs-lookup"><span data-stu-id="323b8-152">App type</span></span>              | <span data-ttu-id="323b8-153">Platform</span><span class="sxs-lookup"><span data-stu-id="323b8-153">Platform</span></span> | <span data-ttu-id="323b8-154">Uygulama (istemci) kimliği</span><span class="sxs-lookup"><span data-stu-id="323b8-154">Application (client) ID</span></span> | <span data-ttu-id="323b8-155">İstemci Gizli Anahtarı</span><span class="sxs-lookup"><span data-stu-id="323b8-155">Client Secret</span></span> | <span data-ttu-id="323b8-156">Yeniden yönlendirme URI 'si/URL 'SI</span><span class="sxs-lookup"><span data-stu-id="323b8-156">Redirect URI/URL</span></span> | <span data-ttu-id="323b8-157">Örtük Flow</span><span class="sxs-lookup"><span data-stu-id="323b8-157">Implicit Flow</span></span>                                                         |
|-----------------------|----------|-------------------------|---------------|------------------|-----------------------------------------------------------------------|
| <span data-ttu-id="323b8-158">Yerel/mobil</span><span class="sxs-lookup"><span data-stu-id="323b8-158">Native/Mobile</span></span>         | <span data-ttu-id="323b8-159">Yerel</span><span class="sxs-lookup"><span data-stu-id="323b8-159">Native</span></span>   | <span data-ttu-id="323b8-160">Atanmış</span><span class="sxs-lookup"><span data-stu-id="323b8-160">Assigned</span></span>                | <span data-ttu-id="323b8-161">No</span><span class="sxs-lookup"><span data-stu-id="323b8-161">No</span></span>            | <span data-ttu-id="323b8-162">Atanmış</span><span class="sxs-lookup"><span data-stu-id="323b8-162">Assigned</span></span>         | <span data-ttu-id="323b8-163">No</span><span class="sxs-lookup"><span data-stu-id="323b8-163">No</span></span>                                                                    |
| <span data-ttu-id="323b8-164">Web App</span><span class="sxs-lookup"><span data-stu-id="323b8-164">Web App</span></span>               | <span data-ttu-id="323b8-165">Web</span><span class="sxs-lookup"><span data-stu-id="323b8-165">Web</span></span>      | <span data-ttu-id="323b8-166">Atanmış</span><span class="sxs-lookup"><span data-stu-id="323b8-166">Assigned</span></span>                | <span data-ttu-id="323b8-167">Yes</span><span class="sxs-lookup"><span data-stu-id="323b8-167">Yes</span></span>           | <span data-ttu-id="323b8-168">Yes</span><span class="sxs-lookup"><span data-stu-id="323b8-168">Yes</span></span>              | <span data-ttu-id="323b8-169">isteğe bağlı açık kimlik Bağlan ara yazılım varsayılan olarak karma akışı kullanır (evet)</span><span class="sxs-lookup"><span data-stu-id="323b8-169">Optional Open ID Connect middleware uses hybrid flow by default (Yes)</span></span> |
| <span data-ttu-id="323b8-170">Tek sayfalı uygulama (SPA)</span><span class="sxs-lookup"><span data-stu-id="323b8-170">Single Page App (SPA)</span></span> | <span data-ttu-id="323b8-171">Web</span><span class="sxs-lookup"><span data-stu-id="323b8-171">Web</span></span>      | <span data-ttu-id="323b8-172">Atanmış</span><span class="sxs-lookup"><span data-stu-id="323b8-172">Assigned</span></span>                | <span data-ttu-id="323b8-173">Yes</span><span class="sxs-lookup"><span data-stu-id="323b8-173">Yes</span></span>           | <span data-ttu-id="323b8-174">Yes</span><span class="sxs-lookup"><span data-stu-id="323b8-174">Yes</span></span>              | <span data-ttu-id="323b8-175">evet maça açık kimlik Bağlan örtülü Flow kullanın</span><span class="sxs-lookup"><span data-stu-id="323b8-175">Yes SPAs use Open ID Connect implicit Flow</span></span>                            |
| <span data-ttu-id="323b8-176">Hizmet/Daemon</span><span class="sxs-lookup"><span data-stu-id="323b8-176">Service/Daemon</span></span>        | <span data-ttu-id="323b8-177">Web</span><span class="sxs-lookup"><span data-stu-id="323b8-177">Web</span></span>      | <span data-ttu-id="323b8-178">Atanmış</span><span class="sxs-lookup"><span data-stu-id="323b8-178">Assigned</span></span>                | <span data-ttu-id="323b8-179">Yes</span><span class="sxs-lookup"><span data-stu-id="323b8-179">Yes</span></span>           | <span data-ttu-id="323b8-180">Yes</span><span class="sxs-lookup"><span data-stu-id="323b8-180">Yes</span></span>              | <span data-ttu-id="323b8-181">Hayır</span><span class="sxs-lookup"><span data-stu-id="323b8-181">No</span></span>                                                                    |

## <a name="create-a-service-principal"></a><span data-ttu-id="323b8-182">Hizmet sorumlusu oluşturma</span><span class="sxs-lookup"><span data-stu-id="323b8-182">Create a service principal</span></span>

<span data-ttu-id="323b8-183">Aboneliğinizdeki kaynaklara erişmek için uygulamaya bir rol atamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="323b8-183">To access resources in your subscription, you must assign a role to the application.</span></span> <span data-ttu-id="323b8-184">Uygulama için doğru izinleri hangi rolün sunduğunu belirleyen yardım için bkz. [Azure yerleşik rolleri](/azure/role-based-access-control/built-in-roles).</span><span class="sxs-lookup"><span data-stu-id="323b8-184">For help deciding which role offers the right permissions for the application, see [Azure built-in roles](/azure/role-based-access-control/built-in-roles).</span></span>

> [!NOTE]
> <span data-ttu-id="323b8-185">Kapsamı, abonelik, kaynak grubu veya kaynak düzeyinde ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="323b8-185">You can set the scope at the level of the subscription, resource group, or resource.</span></span> <span data-ttu-id="323b8-186">İzinler, daha düşük kapsam düzeylerine devralınır.</span><span class="sxs-lookup"><span data-stu-id="323b8-186">Permissions are inherited to lower levels of scope.</span></span> <span data-ttu-id="323b8-187">Örneğin, bir kaynak grubu için okuyucu rolüne bir uygulama eklemek, kaynak grubunu ve içerdiği kaynakları okuyabileceği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="323b8-187">For example, adding an application to the Reader role for a resource group means it can read the resource group and any resources it contains.</span></span>

1. <span data-ttu-id="323b8-188">Azure portal, uygulamanın atanacağı kapsam düzeyini seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-188">In the Azure portal, select the level of scope to assign the application to.</span></span> <span data-ttu-id="323b8-189">Örneğin, abonelik kapsamında bir rol atamak için, **abonelikleri** arayıp seçin ya da giriş sayfasında **abonelikler** ' i seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-189">For example, to assign a role at the subscription scope, search for and select **Subscriptions**, or select **Subscriptions** on the home page.</span></span>

   :::image type="content" source="./images/manage-payouts/search-for-subscriptions.png" alt-text="Abonelikler ekran aramasını gösteren ekran görüntüsü.":::

2. <span data-ttu-id="323b8-191">Uygulamanın atanacağı aboneliği seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-191">Select the subscription to assign the application to.</span></span>

   :::image type="content" source="./images/manage-payouts/internal-testing-subscription.png" alt-text="Iç test bayrağı true olarak ayarlanan abonelikler ekranını gösteren ekran görüntüsü.":::

> [!NOTE]
> <span data-ttu-id="323b8-193">Aradığınız aboneliği görmüyorsanız, genel abonelikler filtresini seçin ve Portal için istediğiniz aboneliğin seçildiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="323b8-193">If you don't see the subscription you're looking for, select the global subscriptions filter and ensure the subscription you want is selected for the portal.</span></span>

3. <span data-ttu-id="323b8-194">**Erişim denetimi (IAM)** öğesini seçin ve ardından **rol ataması Ekle**' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-194">Select **Access control (IAM)**, and then select **Add role assignment**.</span></span>

4. <span data-ttu-id="323b8-195">Uygulamaya atamak istediğiniz rolü seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-195">Select the role you wish to assign to the application.</span></span> <span data-ttu-id="323b8-196">Örneğin, uygulamanın yeniden başlatma gibi eylemleri yürütmesine izin vermek için örnekleri başlatın ve durdurun, katkıda bulunan rolünü seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-196">For example, to allow the application to execute actions like reboot, start and stop instances, select the Contributor role.</span></span> <span data-ttu-id="323b8-197">[Kullanılabilir roller](/azure/role-based-access-control/built-in-roles)hakkında daha fazla bilgi edinin.</span><span class="sxs-lookup"><span data-stu-id="323b8-197">Read more about [available roles](/azure/role-based-access-control/built-in-roles).</span></span>

   <span data-ttu-id="323b8-198">Varsayılan olarak, Azure AD uygulamaları kullanılabilir seçeneklerde gösterilmez.</span><span class="sxs-lookup"><span data-stu-id="323b8-198">By default, Azure AD applications aren't displayed in the available options.</span></span> <span data-ttu-id="323b8-199">Uygulamanızı bulmak için ad üzerinde arama yapın ve sonuçlardan seçim yapın.</span><span class="sxs-lookup"><span data-stu-id="323b8-199">To find your application, search on the name and select it from the results.</span></span> <span data-ttu-id="323b8-200">Aşağıdaki ekran görüntüsünde, `example-app` KAYDETTIĞINIZ AAD uygulaması.</span><span class="sxs-lookup"><span data-stu-id="323b8-200">In the below screenshot, `example-app` is the AAD app you registered.</span></span>

   :::image type="content" source="./images/manage-payouts/add-role-assignment.png" alt-text="Test uygulaması için rol ataması eklemek için kullanıcı arabirimini gösteren ekran görüntüsü.":::

5. <span data-ttu-id="323b8-202">**Kaydet**’i seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-202">Select **Save**.</span></span> <span data-ttu-id="323b8-203">Daha sonra, bu kapsam için bir role sahip kullanıcılar listesinden uygulamalarınızı görebilir.</span><span class="sxs-lookup"><span data-stu-id="323b8-203">You can then see your application in the list of users with a role for that scope.</span></span>

   <span data-ttu-id="323b8-204">Betiklerinizi veya uygulamalarınızı çalıştırmak için hizmet sorumlularınızı kullanmaya başlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="323b8-204">You can start using your service principal to run your scripts or apps.</span></span> <span data-ttu-id="323b8-205">Hizmet sorumlunuza ilişkin izinleri yönetmek için bkz. kullanıcı onayı durumu, izinleri gözden geçirme, oturum açma bilgileri ve daha fazlası), Enterprise [uygulamalarınızı](https://portal.azure.com)Azure portal.</span><span class="sxs-lookup"><span data-stu-id="323b8-205">To manage your service principal's permissions, see user consent status, review permissions, see sign-in information, and more), view your Enterprise applications in the [Azure portal](https://portal.azure.com).</span></span>

## <a name="set-up-api-permissions"></a><span data-ttu-id="323b8-206">API izinlerini ayarlama</span><span class="sxs-lookup"><span data-stu-id="323b8-206">Set up API permissions</span></span>

<span data-ttu-id="323b8-207">Bu bölümde, gerekli API izinlerini ayarlama hakkında yönerge verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="323b8-207">This section provides instruction on how to set up the required API permissions.</span></span> <span data-ttu-id="323b8-208">API izinlerini ayarlama hakkında daha İş Ortağı Merkezi için bkz. [Partner API doğrulaması.](/partner/develop/api-authentication)</span><span class="sxs-lookup"><span data-stu-id="323b8-208">For more information about setting up Partner Center API permissions, see [Partner API authentication](/partner/develop/api-authentication).</span></span>

<span data-ttu-id="323b8-209">**Api'ye Graph izni ver**</span><span class="sxs-lookup"><span data-stu-id="323b8-209">**Grant permission to Graph API**</span></span>

1. <span data-ttu-id="323b8-210">Dosyanın [Uygulama kayıtları](https://go.microsoft.com/fwlink/?linkid=2083908) açın Azure portal.</span><span class="sxs-lookup"><span data-stu-id="323b8-210">Open the [App registrations](https://go.microsoft.com/fwlink/?linkid=2083908) in the Azure portal.</span></span>

2. <span data-ttu-id="323b8-211">Bir uygulama seçin [veya henüz yoksa](/azure/active-directory/develop/quickstart-register-app) bir uygulama oluşturun.</span><span class="sxs-lookup"><span data-stu-id="323b8-211">Select an application, or [create an app](/azure/active-directory/develop/quickstart-register-app) if you don't already have one.</span></span>

3. <span data-ttu-id="323b8-212">Uygulamanın Genel Bakış sayfasının Yönet altında API **İzinleri'ne** **ve** ardından İzin **ekle'ye tıklayın.**</span><span class="sxs-lookup"><span data-stu-id="323b8-212">On the application's Overview page, under **Manage**, select **API Permissions**, then **Add a permission**.</span></span>

4. <span data-ttu-id="323b8-213">Kullanılabilir **API Graph Microsoft** Graph'yi seçin.</span><span class="sxs-lookup"><span data-stu-id="323b8-213">Select **Microsoft Graph** from the list of available APIs.</span></span>

5. <span data-ttu-id="323b8-214">Temsilcili **izinler'i seçin** ve gerekli izinleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="323b8-214">Select **Delegated permissions** and add required permissions.</span></span> <span data-ttu-id="323b8-215">Daha fazla bilgi için [bkz. Uygulama erişimini yapılandırma.](/azure/active-directory/develop/quickstart-configure-app-access-web-apis)</span><span class="sxs-lookup"><span data-stu-id="323b8-215">For more information, see [Configure app access](/azure/active-directory/develop/quickstart-configure-app-access-web-apis).</span></span>

   :::image type="content" source="./images/manage-payouts/graph-request-api-permissions.png" alt-text="Microsoft Azure portal'nin seçili olduğu Graph ekran görüntüsü.":::

<span data-ttu-id="323b8-217">**AAD uygulaması aracılığıyla API'İş Ortağı Merkezi API erişimine onay**</span><span class="sxs-lookup"><span data-stu-id="323b8-217">**Consent to API access to Partner Center API via AAD app**</span></span>

6. <span data-ttu-id="323b8-218">Uygulamanız için **API izinleri'ne** tıklayın, ardından API izinleri isteği ekranından İzin ekle'yi ve ardından kuruluşum tarafından kullanan **API'ler'i seçin.**</span><span class="sxs-lookup"><span data-stu-id="323b8-218">For your application, select **API permissions**, then, from the Request API permissions screen, select **Add a permission**, then **APIs my organization uses**.</span></span>

7. <span data-ttu-id="323b8-219">Microsoft İş **Ortağı (Microsoft Geliştirme Merkezi) API'si (4990cffe-04e8-4e8b-808a-1175604b879f)** araması.</span><span class="sxs-lookup"><span data-stu-id="323b8-219">Search for **Microsoft Partner (Microsoft Dev Center) API (4990cffe-04e8-4e8b-808a-1175604b879f)**.</span></span>

   :::image type="content" source="./images/manage-payouts/partner-api-request-permissions.png" alt-text="Microsoft İş Ortağı'nın seçili olduğu API izinleri ekran görüntüsü.":::

8. <span data-ttu-id="323b8-221">Temsilci İzinleri'ne **İş Ortağı Merkezi.**</span><span class="sxs-lookup"><span data-stu-id="323b8-221">Set the Delegated Permissions to **Partner Center**.</span></span>

   :::image type="content" source="./images/manage-payouts/partner-api-request-permissions.png" alt-text="API izinleri isteği ekranındaKimlik için İş Ortağı Merkezi İzinler'i gösteren ekran görüntüsü.":::

9. <span data-ttu-id="323b8-223">**API'ler** için Yönetici onayı ver.</span><span class="sxs-lookup"><span data-stu-id="323b8-223">Grant **Admin consent** for the APIs.</span></span>

   :::image type="content" source="./images/manage-payouts/api-permissions.png" alt-text="API izinleri ekranında Yönetici Onayı iki durumlu düğmeyi gösteren ekran görüntüsü.":::

   <span data-ttu-id="323b8-225">Yönetici onayı durum ekranında Yönetici onayı'nın etkinleştirildiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="323b8-225">Verify that Admin consent is enabled in the Admin consent status screen.</span></span>

   :::image type="content" source="./images/manage-payouts/admin-consent-verification.png" alt-text="Yönetici onayı durum ekranı gösteren ekran görüntüsü":::

10. <span data-ttu-id="323b8-227">Kimlik Doğrulaması **bölümünde** Genel istemci akışlarına izin **ver seçeneğinin Evet** olarak ayarlanmış olduğundan emin **olun.**</span><span class="sxs-lookup"><span data-stu-id="323b8-227">In the **Authentication** section, make sure the **Allow public client flows** option is set to **Yes**.</span></span>

    :::image type="content" source="./images/manage-payouts/allow-public-client-flows.png" alt-text="Genel istemci akışlarına izin ver'in Evet olarak ayar olduğu Kimlik doğrulaması ekranı gösteren ekran görüntüsü.":::

## <a name="run-the-sample-code-in-visual-studio"></a><span data-ttu-id="323b8-229">Örnek kodu Visual Studio</span><span class="sxs-lookup"><span data-stu-id="323b8-229">Run the sample code in Visual Studio</span></span>

<span data-ttu-id="323b8-230">API'nin ödeme ve işlem geçmişi için nasıl kullanılana bir örnek kod, İş Ortağı [Merkezi-Ödeme](https://github.com/microsoft/Partner-Center-Payout-APIs) API'leri GitHub bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="323b8-230">Sample code showing how the API can be used for payment and transaction history be found in the [Partner-Center-Payout-APIs](https://github.com/microsoft/Partner-Center-Payout-APIs) GitHub repo.</span></span>

### <a name="sample-code-notes"></a><span data-ttu-id="323b8-231">Örnek kod notları</span><span class="sxs-lookup"><span data-stu-id="323b8-231">Sample code notes</span></span>

- <span data-ttu-id="323b8-232">İstemci gizli dizilerinin ve Sertifikaların Kimlik Doğrulaması: Hizmet sorumlusu oluşturma bölümündeki İki seçenekli bölümünde [Azure portal](/azure/active-directory/develop/howto-create-service-principal-portal) yapılandırma gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="323b8-232">Configuration of Client secrets and Certificates as discussed in the Authentication: Two options section of [How to create a service principal in the Azure portal](/azure/active-directory/develop/howto-create-service-principal-portal) is not required.</span></span>
- <span data-ttu-id="323b8-233">Çok faktörlü kimlik doğrulaması (MFA) olan hesaplar şu anda desteklenmiyor ve hataya neden olacak.</span><span class="sxs-lookup"><span data-stu-id="323b8-233">Accounts with multifactor authentication (MFA) are not currently supported and will cause an error.</span></span>
- <span data-ttu-id="323b8-234">Ödeme API'si yalnızca kullanıcı/parola tabanlı kimlik bilgilerini destekler.</span><span class="sxs-lookup"><span data-stu-id="323b8-234">Payout API only supports user/password-based credentials.</span></span>

## <a name="next-steps"></a><span data-ttu-id="323b8-235">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="323b8-235">Next steps</span></span>

- [<span data-ttu-id="323b8-236">Kaynaklara erişen bir Azure AD uygulaması ve hizmet sorumlusu oluşturmak için portalı kullanma</span><span class="sxs-lookup"><span data-stu-id="323b8-236">Use the portal to create an Azure AD application and service principal that can access resources</span></span>](/azure/active-directory/develop/howto-create-service-principal-portal)
- [<span data-ttu-id="323b8-237">Microsoft kimlik platformuna uygulama kaydetme</span><span class="sxs-lookup"><span data-stu-id="323b8-237">Register an application with the Microsoft identity platform</span></span>](/graph/auth-register-app-v2)
- [<span data-ttu-id="323b8-238">Web API'lerine erişmek için istemci uygulaması yapılandırma</span><span class="sxs-lookup"><span data-stu-id="323b8-238">Configure a client application to access a web API</span></span>](/azure/active-directory/develop/quickstart-configure-app-access-web-apis)
